{"version":3,"sources":["./src/app/order/order.module.ts","./src/app/order/order-route.module.ts","./src/app/order/main/main.component.ts","./src/app/order/main/main.component.html"],"names":[],"mappings":"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","file":"order-order-module-es2015.js","sourcesContent":["import { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { MainComponent } from './main/main.component';\nimport { OrderRouteModule } from './order-route.module';\nimport { SharedModule } from '../shared/shared.module';\nimport { FormsModule, ReactiveFormsModule } from '@angular/forms';\nimport { ToastyModule } from 'ng2-toasty';\n\n\n\n@NgModule({\n  declarations: [\n    MainComponent\n  ],\n  imports: [\n    CommonModule,\n    OrderRouteModule,\n    SharedModule,\n    ReactiveFormsModule,\n    FormsModule,\n    ToastyModule.forRoot()\n  ]\n})\nexport class OrderModule { }\n","import { Route } from \"@angular/compiler/src/core\";\r\nimport { NgModule } from \"@angular/core\";\r\nimport { RouterModule, Routes } from \"@angular/router\";\r\nimport { MainComponent } from \"./main/main.component\";\r\n\r\n\r\n\r\nconst routes: Routes = [\r\n    { path: '', component: MainComponent }\r\n];\r\n@NgModule({\r\n    imports: [\r\n        RouterModule.forChild(routes)\r\n    ]\r\n})\r\nexport class OrderRouteModule{}","import { Component, OnInit, ViewChild, OnDestroy } from '@angular/core';\nimport { FormBuilder } from '@angular/forms';\nimport { ActivatedRoute, Router } from '@angular/router';\nimport { Apollo, gql } from 'apollo-angular';\nimport { ToastData, ToastOptions, ToastyService } from 'ng2-toasty';\nimport { ModalBasicComponent } from '../../shared/modal-basic/modal-basic.component'\nimport { Title } from \"@angular/platform-browser\";\nimport { Variables, Response } from '../../../app/shared/model';\nimport { Subscription } from 'rxjs';\n\n@Component({\n  selector: 'app-main',\n  templateUrl: './main.component.html',\n  styleUrls: ['./main.component.scss']\n})\nexport class MainComponent implements OnInit, OnDestroy {\n\n  constructor(\n    private apollo: Apollo,\n    private route: ActivatedRoute,\n    private fb: FormBuilder,\n    private toastyService: ToastyService,\n    private titleService: Title,\n    private router: Router\n  ) { }\n\n  subscriptions = [];\n\n  orders = [];\n  order: any = {};\n\n  delivery;\n\n  text = 'Update order status';\n  surname;\n\n  @ViewChild(ModalBasicComponent) modal;\n\n  orderForm = this.fb.group({\n    status: [\"\"],\n    delivery: [\"\"],\n  });\n\n  //notify\n  position = 'bottom-right';\n  title: string;\n  msg: string;\n  showClose = true;\n  theme = 'bootstrap';\n  type = 'default';\n  closeOther = false;\n  skip = 0;\n  ordersLength = 0;\n\n  ngOnInit(): void {\n    this.titleService.setTitle('Orders management');\n    this.getOrders();\n    this.getDeliveryMen();\n  }\n\n  ngOnDestroy() {\n    this.subscriptions.forEach((e: Subscription) => e.unsubscribe());\n  }\n\n\n  addToast(options) {\n    if (options.closeOther) {\n      this.toastyService.clearAll();\n    }\n    this.position = options.position ? options.position : this.position;\n    const toastOptions: ToastOptions = {\n      title: options.title,\n      msg: options.msg,\n      showClose: options.showClose,\n      timeout: options.timeout,\n      theme: options.theme,\n      onAdd: (toast: ToastData) => {\n        /* added */\n        console.log('Toast  has been added!');\n\n      },\n      onRemove: (toast: ToastData) => {\n        /* removed */\n        console.log('deleted!');\n      }\n    };\n\n    switch (options.type) {\n      case 'default': this.toastyService.default(toastOptions); break;\n      case 'info': this.toastyService.info(toastOptions); break;\n      case 'success': this.toastyService.success(toastOptions); break;\n      case 'wait': this.toastyService.wait(toastOptions); break;\n      case 'error': this.toastyService.error(toastOptions); break;\n      case 'warning': this.toastyService.warning(toastOptions); break;\n    }\n  }\n\n  getOrders(surname?, skip = 0) {\n\n    const query = this.apollo\n      .watchQuery({\n        fetchPolicy: 'no-cache',\n        query: gql`\n              query getAllOrders($surname: String, $skip: Float) {\n                getAllOrders(surname: $surname, skip:$skip){\n                    _id\n                    title\n                    description\n                    from {\n                      address\n                    }\n                    to {\n                      address\n                    }\n                    by {\n                      name\n                      surname\n                    }\n                    status\n                    createdAt\n                }\n              }\n\n              \n          `,\n        variables: {\n          surname,\n          skip\n        }\n      })\n      .valueChanges\n      .subscribe(\n        (res: any) => {\n\n          this.orders = [...this.orders, ...res.data?.getAllOrders];\n          this.ordersLength = this.orders.length;\n\n\n        },\n        (err) => {\n          this.addToast({\n            title: 'Error',\n            msg: err.message,\n            timeout: 5000,\n            theme: 'material',\n            position: 'bottom-right',\n            type: 'error'\n          })\n        }\n      );\n\n      this.subscriptions.push(query)\n  }\n\n\n  getDeliveryMen() {\n\n\n    const query = this.apollo.watchQuery({\n      query: gql`\n        query DeliveryList {\n          findAllDelivery{\n                _id\n                name\n                surname\n              }\n          }\n      `\n    }).valueChanges\n      .subscribe(\n        (res: any) => {\n          this.delivery = res.data?.findAllDelivery;\n        }\n\n      );\n\n      this.subscriptions.push(query);\n\n\n\n  }\n\n  getMore() {\n    this.skip = this.skip + 10;\n    this.getOrders(null, this.skip);\n  }\n  search(e) {\n    this.orders = []\n    this.getOrders(e);\n  }\n  updateOrder(order) {\n    this.order = order;\n    this.orderForm.patchValue({\n      status: this.order.status,\n      delivery: this.order.delivery\n    });\n    this.modal.show()\n  }\n  onUpdate() {\n\n    const { _id: id } = this.order;\n    const UpdateOrderDto = this.orderForm.value;\n\n    const mutate = this.apollo\n      .mutate<Response, Variables>({\n        mutation: gql`\n          mutation updateOrder($id: String!, $UpdateOrderDto : UpdateOrderDto! ) {\n            updateOrder(id: $id, UpdateOrderDto : $UpdateOrderDto ){\n                title\n            }\n          }\n      `,\n        variables: {\n          id,\n          UpdateOrderDto\n        }\n      })\n      .subscribe(\n        (res) => {\n          this.orders = [];\n          this.skip = 0;\n          this.getOrders();\n          this.modal.hide();\n          this.addToast({\n            title: 'Done',\n            msg: 'Order has been Updated!',\n            timeout: 5000,\n            theme: 'material',\n            position: 'bottom-right',\n            type: 'success'\n          });\n        },\n        (err) => {\n          this.addToast({\n            title: 'Error',\n            msg: err.message,\n            timeout: 5000,\n            theme: 'material',\n            position: 'bottom-right',\n            type: 'error'\n          })\n        }\n      );\n      this.subscriptions.push(mutate);\n\n  }\n\n  deleteOrder(id) {\n    const query = this.apollo\n    .mutate({\n      mutation: gql`\n        mutation removeOrder($id: String!) {\n          removeOrder(id: $id) {\n            _id\n          }\n        }\n      `,\n      variables: {\n        id\n      }\n    }).subscribe(\n      (res) => {\n        this.skip = 0;\n        this.orders = []\n        this.addToast({\n        title: 'Done',\n        msg: 'Order has been Removed!',\n        timeout: 5000,\n        theme: 'material',\n        position: 'bottom-right',\n        type: 'success'\n      });\n      this.getOrders()\n    },\n    (err) => {\n      this.addToast({\n        title: 'Error',\n        msg: err.message,\n        timeout: 5000,\n        theme: 'material',\n        position: 'bottom-right',\n        type: 'error'\n      })\n    })\n\n    this.subscriptions.push(query);\n  }\n\n}\n","<app-card [title]=\"'Order Management'\">\n\n    <div class=\"form-group\">\n        <input type=\"text\" class=\"form-control form-control-normal\" placeholder=\"Search by surname\"  [(ngModel)]=\"surname\" (ngModelChange)=\"search($event)\">\n    </div>\n    \n    <div>\n        <div class=\"table-responsive\">\n            <table class=\"table table-hover\">\n              <thead>\n              <tr>\n                <th>#</th>\n                <th>Title</th>\n                <th>from</th>\n                <th>to</th>\n                <th>status</th>\n                <th>by</th>\n                <th> Created At </th>\n                <th> Action </th>\n              </tr>\n              </thead>\n              <tbody>\n\n              <tr *ngFor=\"let order of orders\" \n              [ngClass]=\"{\n                'table-danger': order.status === 'inactive',\n                'table-warning': order.status === 'pending',\n                'table-success': order.status === 'delivered'\n              }\"\n              >\n                    <th scope=\"row\">{{ order._id }}</th>\n                    <td>{{ order.title }}</td>\n                    <td>{{ order.from.address }}</td>\n                    <td>{{ order.to.address }}</td>\n                    <td>{{ order.status }} </td>\n                    <td>{{ order.by.name }} {{ order.by.surname }}</td>\n                    <td>{{ order.createdAt | date }}</td>\n                    \n                \n                    <td>\n                        <button type=\"button\" class=\"btn btn-success btn-round\"  placement=\"bottom\" [ngbPopover]=\"successContent\" (click)=\"updateOrder(order)\">update</button>\n                        <button type=\"button\" class=\"btn btn-danger btn-round\"  placement=\"bottom\" [ngbPopover]=\"successContent\" (click)=\"deleteOrder(order._id)\">delete</button>\n                    </td>\n              </tr>\n            <tr>\n                <td></td>\n                <td></td>\n                <td></td>\n                <td style=\"align-items: center;\" *ngIf=\"ordersLength >= 10 \"><a (click)=\"getMore()\">Get More!</a></td>\n                <td></td>               \n                <td></td>\n                <td></td>\n                <td></td>\n                \n            </tr>\n              </tbody>\n            </table>\n             \n          </div>\n    </div>\n</app-card>\n\n\n<app-modal-basic #Modal >\n    <div class=\"app-modal-header\">\n         <h4>{{ text }}</h4> \n    </div>\n    <div class=\"app-modal-body\">  \n            \n            <form [formGroup]=\"orderForm\" (ngSubmit)=\"onUpdate()\">\n\n                <div class=\"form-group\">\n                    <select class=\"form-control form-control-normal\" placeholder=\"deliver\" formControlName=\"delivery\" required>  \n                        <option [ngValue]=\"null\" disabled >Choose a Delivery man!</option>\n                        <option *ngFor=\"let item of delivery\" [ngValue]=\"item._id\" > {{item.name}} {{item.surname}} </option>\n                        \n                    </select>\n                </div>\n\n                <div class=\"form-group\">\n                    <select class=\"form-control form-control-normal\" placeholder=\"Status\" formControlName=\"status\" required>  \n                        <option value=\"inactive\" [selected] = \"order.status === 'inactive'\">Inactive</option>\n                        <option value=\"pending\" [selected] = \"order.status === 'pending'\">Pending</option>\n                        <option value=\"delivered\" [selected] = \"order.status === 'delivered'\">Delivered</option>\n                    </select>\n                </div>\n                <div class=\"form-group\">\n                    <button type=\"submit\" class=\"btn btn-success btn-round\"  placement=\"bottom\"  >update</button>\n                    \n                </div>\n            </form>\n       \n        \n        \n        \n    </div>\n    <div class=\"app-modal-footer\"></div>\n    \n</app-modal-basic>\n\n<ng2-toasty [position]=\"position\"></ng2-toasty>"],"sourceRoot":"webpack:///"}